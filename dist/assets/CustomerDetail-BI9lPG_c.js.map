{"version":3,"file":"CustomerDetail-BI9lPG_c.js","sources":["../../src/pages/customers/CustomerDetail.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { CustomerService } from '../../services/api/customers';\r\nimport type { Customer } from '../../types/customer';\r\nimport { Button } from '../../components/ui/button';\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '../../components/ui/card';\r\nimport { Badge } from '../../components/ui/badge';\r\nimport { Users, FileText } from 'lucide-react';\r\n\r\nexport const CustomerDetail: React.FC = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [customer, setCustomer] = useState<Customer | null>(null);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      const c = CustomerService.getById(id);\r\n      setCustomer(c || null);\r\n    }\r\n  }, [id]);\r\n\r\n  if (!customer) return <div className=\"p-6 text-sm text-gray-500\">Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      <div className=\"flex justify-between items-start\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-semibold\">{customer.companyInfo.name}</h1>\r\n          <p className=\"text-sm text-gray-600\">{customer.customerCode} â€¢ {customer.companyInfo.industry}</p>\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <Button variant=\"outline\" onClick={()=> navigate(`/customers/${customer.id}/deploy`)}><Users className=\"mr-2 h-4 w-4\"/>Deploy Staff</Button>\r\n          <Button onClick={()=> navigate(`/customers/${customer.id}/invoice`)}><FileText className=\"mr-2 h-4 w-4\"/>Generate Invoice</Button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"border-b\">\r\n        <div className=\"flex gap-6\">\r\n          {['overview','employees','contracts','financials','documents'].map(tab => (\r\n            <button key={tab} onClick={()=> setActiveTab(tab)} className={`pb-3 px-1 border-b-2 font-medium text-sm capitalize ${activeTab===tab ? 'border-blue-600 text-blue-600':'border-transparent text-gray-600 hover:text-gray-900'}`}>{tab}</button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {activeTab==='overview' && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <Card className=\"p-6\"><h3 className=\"font-semibold mb-4\">Company Information</h3><dl className=\"space-y-2\">\r\n            <div className=\"flex justify-between\"><dt className=\"text-gray-600\">Trade License:</dt><dd className=\"font-medium\">{customer.companyInfo.tradeLicenseNumber}</dd></div>\r\n            <div className=\"flex justify-between\"><dt className=\"text-gray-600\">Type:</dt><dd className=\"font-medium\">{customer.companyInfo.type}</dd></div>\r\n            <div className=\"flex justify-between\"><dt className=\"text-gray-600\">Payment Terms:</dt><dd className=\"font-medium\">{customer.contract.paymentTerms}</dd></div>\r\n            <div className=\"flex justify-between\"><dt className=\"text-gray-600\">Credit Limit:</dt><dd className=\"font-medium\">QAR {customer.contract.creditLimit?.toLocaleString()}</dd></div>\r\n          </dl></Card>\r\n          <Card className=\"p-6\"><h3 className=\"font-semibold mb-4\">Primary Contact</h3><dl className=\"space-y-2\">\r\n            <div className=\"flex justify-between\"><dt className=\"text-gray-600\">Name:</dt><dd className=\"font-medium\">{customer.primaryContact.name}</dd></div>\r\n            <div className=\"flex justify-between\"><dt className=\"text-gray-600\">Position:</dt><dd className=\"font-medium\">{customer.primaryContact.position}</dd></div>\r\n            <div className=\"flex justify-between\"><dt className=\"text-gray-600\">Mobile:</dt><dd className=\"font-medium\">{customer.primaryContact.mobile}</dd></div>\r\n            <div className=\"flex justify-between\"><dt className=\"text-gray-600\">Email:</dt><dd className=\"font-medium\">{customer.primaryContact.email}</dd></div>\r\n          </dl></Card>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab==='employees' && (\r\n        <Card className=\"p-6\">\r\n          <h3 className=\"font-semibold mb-4\">Deployed Employees</h3>\r\n          {customer.deployment.currentEmployees.length>0 ? (\r\n            <table className=\"w-full text-sm\">\r\n              <thead><tr className=\"border-b\"><th className=\"text-left py-2\">Employee</th><th className=\"text-left py-2\">Position</th><th className=\"text-left py-2\">Start Date</th><th className=\"text-left py-2\">Status</th></tr></thead>\r\n              <tbody>\r\n                {customer.deployment.currentEmployees.map((emp,i)=>(\r\n                  <tr key={i} className=\"border-b\">\r\n                    <td className=\"py-2\">{emp.employeeName}</td>\r\n                    <td className=\"py-2\">{emp.position}</td>\r\n                    <td className=\"py-2\">{new Date(emp.startDate).toLocaleDateString()}</td>\r\n                    <td className=\"py-2\"><Badge>{emp.status}</Badge></td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          ) : <p className=\"text-xs text-gray-500\">No employees currently deployed</p>}\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomerDetail;\r\n"],"names":["CustomerDetail","id","useParams","navigate","useNavigate","customer","setCustomer","useState","activeTab","setActiveTab","useEffect","c","CustomerService","jsxs","jsx","Button","Users","FileText","tab","Card","_a","emp","i","Badge"],"mappings":"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"}