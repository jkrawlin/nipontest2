{"version":3,"file":"Documents-DbWCsKE4.js","sources":["../../src/pages/employees/Documents.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { EmployeeService } from '../../services/api/employees';\r\nimport type { ExpiringDocument } from '../../types/employee';\r\n\r\nexport const EmployeeDocumentsPage: React.FC = () => {\r\n\tconst [docs, setDocs] = useState<ExpiringDocument[]>([]);\r\n\tconst [loading, setLoading] = useState(true);\r\n\tconst [windowDays, setWindowDays] = useState(120);\r\n\r\n\tuseEffect(() => { (async () => {\r\n\t\tconst list = await EmployeeService.getExpiringDocuments(windowDays);\r\n\t\tsetDocs(list);\r\n\t\tsetLoading(false);\r\n\t})(); }, [windowDays]);\r\n\r\n\treturn (\r\n\t\t<div className=\"p-6 space-y-6\">\r\n\t\t\t<div className=\"flex items-end gap-6 flex-wrap\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1 className=\"text-xl font-semibold\">Employee Documents</h1>\r\n\t\t\t\t\t<p className=\"text-xs text-gray-500\">Track Qatar ID, Passport & Visa expiries. Renew before expiration to remain compliant.</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"ml-auto flex gap-2 items-center\">\r\n\t\t\t\t\t<label className=\"text-[11px] font-medium\">Window (days)</label>\r\n\t\t\t\t\t<select value={windowDays} onChange={e=> setWindowDays(parseInt(e.target.value,10))} className=\"border rounded px-2 py-1 text-xs\">\r\n\t\t\t\t\t\t{[30,60,90,120,180].map(d => <option key={d} value={d}>{d}</option>)}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{loading ? <div className=\"text-sm text-gray-500\">Loadingâ€¦</div> : (\r\n\t\t\t\t<div className=\"overflow-x-auto border rounded bg-white\">\r\n\t\t\t\t\t<table className=\"min-w-full text-sm\">\r\n\t\t\t\t\t\t<thead className=\"bg-gray-50\">\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th className=\"px-3 py-2 text-left\">Employee</th>\r\n\t\t\t\t\t\t\t\t<th className=\"px-3 py-2 text-left\">Document</th>\r\n\t\t\t\t\t\t\t\t<th className=\"px-3 py-2 text-right\">Days Remaining</th>\r\n\t\t\t\t\t\t\t\t<th className=\"px-3 py-2 text-left\">Expiry Date</th>\r\n\t\t\t\t\t\t\t\t<th className=\"px-3 py-2 text-left\">Status</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{docs.map(d => (\r\n\t\t\t\t\t\t\t\t<tr key={d.employeeId + d.documentType} className=\"border-b last:border-0\">\r\n\t\t\t\t\t\t\t\t\t<td className=\"px-3 py-2 whitespace-nowrap font-medium\">{d.employeeName}</td>\r\n\t\t\t\t\t\t\t\t\t<td className=\"px-3 py-2\">{d.documentType}</td>\r\n\t\t\t\t\t\t\t\t\t<td className={\"px-3 py-2 text-right font-mono text-xs \" + (d.status==='expired' ? 'text-red-600' : d.status==='critical' ? 'text-amber-600' : d.status==='warning' ? 'text-yellow-600':'text-green-600')}>{d.daysRemaining}</td>\r\n\t\t\t\t\t\t\t\t\t<td className=\"px-3 py-2 text-xs\">{new Date(d.expiryDate).toLocaleDateString('en-US')}</td>\r\n\t\t\t\t\t\t\t\t\t<td className=\"px-3 py-2 capitalize text-xs\">{d.status}</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t{docs.length === 0 && <tr><td colSpan={5} className=\"px-3 py-8 text-center text-gray-500\">No documents within selected window.</td></tr>}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\nexport default EmployeeDocumentsPage;\r\n\r\n"],"names":["EmployeeDocumentsPage","docs","setDocs","useState","loading","setLoading","windowDays","setWindowDays","useEffect","list","EmployeeService","jsxs","jsx","e","d"],"mappings":"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"}