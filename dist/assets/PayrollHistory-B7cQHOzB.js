import{j as e}from"./vendor-ds6wDdAD.js";import{r as l}from"./react-nPrKd0zk.js";import{P as x}from"./payroll-Cm_R0hmF.js";import{a as i}from"./index-sMHxiCIB.js";import"./decimal-CNRKZ6of.js";const m=()=>{const[a,c]=l.useState([]),r=i();return l.useEffect(()=>{c(x.list().sort((t,s)=>s.year-t.year||s.month-t.month))},[]),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Payroll History"}),e.jsx("button",{onClick:()=>r("/payroll/process"),className:"px-3 py-1.5 text-sm rounded bg-blue-600 text-white",children:"Start New Run"})]}),e.jsx("div",{className:"overflow-x-auto border rounded bg-white",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left",children:"Period"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Status"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Employees"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Total Amount"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Created"}),e.jsx("th",{className:"px-3 py-2"})]})}),e.jsxs("tbody",{children:[a.map(t=>{var s;return e.jsxs("tr",{className:"border-b last:border-0",children:[e.jsxs("td",{className:"px-3 py-2 font-medium",children:[t.month,"/",t.year]}),e.jsx("td",{className:"px-3 py-2 capitalize",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs bg-${t.status==="processed"?"green":"blue"}-100 text-${t.status==="processed"?"green":"blue"}-700`,children:t.status})}),e.jsx("td",{className:"px-3 py-2 text-right",children:((s=t.calculations)==null?void 0:s.length)||0}),e.jsx("td",{className:"px-3 py-2 text-right font-medium",children:t.totalAmount.toFixed(2)}),e.jsx("td",{className:"px-3 py-2 text-xs text-gray-500",children:(()=>{try{return new Date(parseInt(t.id.split("-").pop(),36)).toLocaleDateString()}catch{return"-"}})()}),e.jsx("td",{className:"px-3 py-2 text-right",children:e.jsx("button",{className:"text-blue-600 hover:underline text-xs",onClick:()=>r(`/payroll/payslips?batch=${t.id}`),children:"View Payslips"})})]},t.id)}),a.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-3 py-6 text-center text-gray-500 text-sm",children:"No payroll batches yet."})})]})]})})]})};export{m as PayrollHistoryPage,m as default};
//# sourceMappingURL=PayrollHistory-B7cQHOzB.js.map
