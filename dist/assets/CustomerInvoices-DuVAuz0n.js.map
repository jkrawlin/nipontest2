{"version":3,"file":"CustomerInvoices-DuVAuz0n.js","sources":["../../src/pages/customers/CustomerInvoices.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { CustomerService } from '../../services/api/customers';\r\nimport { InvoiceService } from '../../services/api/invoices';\r\nimport type { Customer, CustomerInvoice } from '../../types/customer';\r\nimport { Badge } from '../../components/ui/badge';\r\n\r\nexport const CustomerInvoices: React.FC = () => {\r\n  const [customers, setCustomers] = useState<Customer[]>([]);\r\n  const [invoices, setInvoices] = useState<CustomerInvoice[]>([]);\r\n\r\n  useEffect(()=> {\r\n    setCustomers(CustomerService.getAll());\r\n    setInvoices(InvoiceService.getAll());\r\n  }, []);\r\n\r\n  const customerMap = Object.fromEntries(customers.map(c => [c.id, c]));\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      <div>\r\n        <h1 className=\"text-2xl font-semibold\">Customer Invoices</h1>\r\n        <p className=\"text-sm text-gray-600\">All generated customer invoices (drafts included)</p>\r\n      </div>\r\n      <div className=\"overflow-x-auto border rounded\">\r\n        <table className=\"min-w-full text-sm\">\r\n          <thead className=\"bg-gray-50 text-xs uppercase text-gray-500\"><tr><th className=\"text-left px-3 py-2\">Invoice #</th><th className=\"text-left px-3 py-2\">Customer</th><th className=\"text-left px-3 py-2\">Period</th><th className=\"text-right px-3 py-2\">Amount</th><th className=\"text-left px-3 py-2\">Status</th></tr></thead>\r\n          <tbody>\r\n            {invoices.map(inv => (\r\n              <tr key={inv.id} className=\"border-t\">\r\n                <td className=\"px-3 py-2 font-medium\">{inv.invoiceNumber}</td>\r\n                <td className=\"px-3 py-2\">{customerMap[inv.customerId]?.companyInfo.name || '—'}</td>\r\n                <td className=\"px-3 py-2 text-xs\">{inv.periodStart} → {inv.periodEnd}</td>\r\n                <td className=\"px-3 py-2 text-right font-medium\">{inv.total.toFixed(2)} {inv.currency}</td>\r\n                <td className=\"px-3 py-2\"><Badge variant={inv.status==='Draft' ? 'outline': inv.status==='Paid'? 'success': inv.status==='Overdue'? 'warning': 'secondary'}>{inv.status}</Badge></td>\r\n              </tr>\r\n            ))}\r\n            {invoices.length===0 && <tr><td colSpan={5} className=\"px-3 py-6 text-center text-xs text-gray-500\">No invoices yet.</td></tr>}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomerInvoices;\r\n"],"names":["CustomerInvoices","customers","setCustomers","useState","invoices","setInvoices","useEffect","CustomerService","InvoiceService","customerMap","c","jsxs","jsx","inv","_a","Badge"],"mappings":"4OAMO,MAAMA,EAA6B,IAAM,CAC9C,KAAM,CAACC,EAAWC,CAAY,EAAIC,EAAAA,SAAqB,CAAA,CAAE,EACnD,CAACC,EAAUC,CAAW,EAAIF,EAAAA,SAA4B,CAAA,CAAE,EAE9DG,EAAAA,UAAU,IAAK,CACbJ,EAAaK,EAAgB,QAAQ,EACrCF,EAAYG,EAAe,QAAQ,CACrC,EAAG,CAAA,CAAE,EAEL,MAAMC,EAAc,OAAO,YAAYR,EAAU,IAAIS,GAAK,CAACA,EAAE,GAAIA,CAAC,CAAC,CAAC,EAEpE,OACEC,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,yBAAyB,SAAA,oBAAiB,EACxDA,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,mDAAA,CAAiD,CAAA,EACxF,QACC,MAAA,CAAI,UAAU,iCACb,SAAAD,EAAAA,KAAC,QAAA,CAAM,UAAU,qBACf,SAAA,CAAAC,MAAC,QAAA,CAAM,UAAU,6CAA6C,SAAAD,EAAAA,KAAC,KAAA,CAAG,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,sBAAsB,SAAA,YAAS,EAAKA,EAAAA,IAAC,KAAA,CAAG,UAAU,sBAAsB,SAAA,WAAQ,EAAKA,EAAAA,IAAC,KAAA,CAAG,UAAU,sBAAsB,SAAA,SAAM,EAAKA,EAAAA,IAAC,KAAA,CAAG,UAAU,uBAAuB,SAAA,SAAM,EAAKA,EAAAA,IAAC,KAAA,CAAG,UAAU,sBAAsB,SAAA,QAAA,CAAM,CAAA,CAAA,CAAK,CAAA,CAAK,SACvT,QAAA,CACE,SAAA,CAAAR,EAAS,IAAIS,GAAA,OACZF,OAAAA,EAAAA,KAAC,KAAA,CAAgB,UAAU,WACzB,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wBAAyB,SAAAC,EAAI,cAAc,EACzDD,EAAAA,IAAC,KAAA,CAAG,UAAU,YAAa,WAAAE,EAAAL,EAAYI,EAAI,UAAU,IAA1B,YAAAC,EAA6B,YAAY,OAAQ,GAAA,CAAI,EAChFH,EAAAA,KAAC,KAAA,CAAG,UAAU,oBAAqB,SAAA,CAAAE,EAAI,YAAY,MAAIA,EAAI,SAAA,EAAU,EACrEF,EAAAA,KAAC,KAAA,CAAG,UAAU,mCAAoC,SAAA,CAAAE,EAAI,MAAM,QAAQ,CAAC,EAAE,IAAEA,EAAI,QAAA,EAAS,EACtFD,EAAAA,IAAC,MAAG,UAAU,YAAY,eAACG,EAAA,CAAM,QAASF,EAAI,SAAS,QAAU,UAAWA,EAAI,SAAS,OAAQ,UAAWA,EAAI,SAAS,UAAW,UAAW,YAAc,SAAAA,EAAI,MAAA,CAAO,CAAA,CAAQ,CAAA,GALzKA,EAAI,EAMb,EACD,EACAT,EAAS,SAAS,GAAKQ,EAAAA,IAAC,KAAA,CAAG,SAAAA,EAAAA,IAAC,KAAA,CAAG,QAAS,EAAG,UAAU,8CAA8C,SAAA,kBAAA,CAAgB,CAAA,CAAK,CAAA,CAAA,CAC3H,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,CAEJ"}